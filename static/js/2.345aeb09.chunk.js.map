{"version":3,"sources":["modules/home/components/home.style.js","modules/home/components/Home.jsx","modules/home/container/Home.js"],"names":["StyleHome","styled","div","_templateObject","Home","props","_this","Object","_home_wesence_Desktop_table_pagination_react_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_home_wesence_Desktop_table_pagination_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_wesence_Desktop_table_pagination_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","doubleSizeCol","field","some","el","includes","handleClick","event","setState","currentPage","Number","target","id","showDetails","record","detail","history","push","concat","paginationRange","paginationLength","_this$state","state","pageNumbers","slice","indexOfLastPN","indexOfFirstPN","updateCurrentPage","operation","prevState","handleInput","newData","data","filter","r","first_name","toLowerCase","value","searchInput","sort","sortBy","heading","columnName","map","col","classes","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","key","label","className","onClick","renderRow","object","displayData","renderPageNumbers","pagination","number","Fragment","loading","recordPerPage","_this2","axios","get","then","_ref","i","Math","ceil","length","catch","err","_this3","_this$state2","records","indexOfLastRecord","indexOfFirstRecord","currentRecord","b","_components__WEBPACK_IMPORTED_MODULE_8__","_home_style__WEBPACK_IMPORTED_MODULE_7__","placeholder","onChange","React","Component","__webpack_require__","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","_components_Home__WEBPACK_IMPORTED_MODULE_2__","_store_actions__WEBPACK_IMPORTED_MODULE_3__","connect","dispatch","payload","userDetail","assign"],"mappings":"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","file":"static/js/2.345aeb09.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nconst StyleHome = styled.div`\n  padding: 0 4%;\n  .search {\n    margin: 50px 0px;\n    width: 320px;\n    font-size: 16px;\n    border: none;\n    border-bottom: 1px solid #ccc;\n    outline: none;\n  }\n  .table {\n    display: flex;\n    flex-flow: column nowrap;\n    line-height: 1.25;\n    border: 0;\n    &__caption {\n      padding: 1rem;\n      letter-spacing: 3px;\n      caption-side: top;\n      &--text1 {\n        font-size: 1.5rem;\n        font-weight: 900;\n        color: #999;\n      }\n      &--text2 {\n        font-size: 1.2rem;\n        font-weight: 300;\n        color: #a52a2a;\n      }\n    }\n    &__row {\n      display: flex;\n      font-size: 1.1rem;\n      word-wrap: break-word;\n      overflow-wrap: break-word;\n      word-break: break-all;\n      cursor: pointer;\n      &:nth-of-type(even) {\n        background-color: #e5e5e5;\n      }\n      &--column-heading {\n        font-weight: 700;\n        color: #f3f3f3;\n        background-color: #08acbd;\n        text-transform: capitalize;\n        .sort {\n          margin-left: 6px;\n        }\n      }\n      &--content {\n        padding: 5px 10px;\n        display: flex;\n        flex: 1 0;\n        align-items: center;\n        justify-content: center;\n        border: 1px solid #888888;\n        border-collapse: collapse;\n        border-spacing: 0;\n      }\n\n      &--doubleSize {\n        flex-grow: 2;\n      }\n\n      &:hover {\n        background-color: #312f2f;\n        color: white;\n      }\n    }\n  }\n  .btnContainer {\n    display: flex;\n    justify-content: space-between;\n    padding: 20px;\n    .btn {\n      padding: 10px 0px;\n      width: 110px;\n      color: #00a0b7;\n      background-color: white;\n      font-size: 16px;\n      border: 1px solid #ccc;\n      border-radius: 20px;\n      cursor: pointer;\n      &:hover {\n        box-shadow: 0px 1px 2px;\n      }\n    }\n  }\n  .pagination {\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    margin: 20px auto;\n    font-size: 16px;\n    list-style-type: none;\n    &__item {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      padding: 3px 18px;\n      cursor: pointer;\n      background: #f1f1f1;\n      text-align: center;\n      border: 1px solid white;\n    }\n    &__active {\n      background: tomato;\n    }\n  }\n`;\n\nexport default StyleHome;\n","import React from \"react\";\nimport axios from \"axios\";\nimport StyleHome from \"./home.style\";\nimport { Loading } from \"../../../components\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      data: [],\n      currentPage: 1,\n      recordPerPage: 5,\n      pageNumbers: [],\n      searchInput: \"\",\n      newData: [],\n      sortBy: \"\"\n    };\n  }\n\n  componentDidMount() {\n    const { recordPerPage } = this.state;\n    this.setState({ loading: true });\n    axios\n      .get(\"http://demo9197058.mockable.io/users\")\n      .then(({ data }) => {\n        let pageNumbers = [];\n        for (let i = 1; i <= Math.ceil(data.length / recordPerPage); i++) {\n          pageNumbers.push(i);\n        }\n        this.setState({ data, loading: false, pageNumbers });\n      })\n      .catch(err => this.setState({ loading: false }));\n  }\n\n  doubleSizeCol = field => {\n    return [\"company_name\", \"email\", \"web\"].some(el => field.includes(el));\n  };\n\n  handleClick = event => {\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n  };\n\n  showDetails = record => {\n    this.props.detail(record);\n    this.props.history.push(`/user/${record.id}`);\n  };\n\n  paginationRange = paginationLength => {\n    const { pageNumbers, currentPage } = this.state;\n    if (currentPage > paginationLength - 5) {\n      return pageNumbers.slice(paginationLength - 5, paginationLength);\n    }\n    const indexOfLastPN = currentPage + 4;\n    const indexOfFirstPN = indexOfLastPN - 5;\n    return pageNumbers.slice(indexOfFirstPN, indexOfLastPN);\n  };\n\n  updateCurrentPage = (operation, paginationLength) => {\n    if (operation === \"add\")\n      this.setState(prevState => ({\n        currentPage:\n          prevState.currentPage === paginationLength\n            ? paginationLength\n            : prevState.currentPage + 1\n      }));\n    else\n      this.setState(prevState => ({\n        currentPage: prevState.currentPage === 1 ? 1 : prevState.currentPage - 1\n      }));\n  };\n\n  handleInput = event => {\n    const { data } = this.state;\n    let newData = data.filter(r => {\n      return r.first_name\n        .toLowerCase()\n        .includes(event.target.value.toLowerCase());\n    });\n    this.setState({ searchInput: event.target.value, newData });\n  };\n\n  sort = field => {\n    this.setState(prevState => ({\n      sortBy: prevState.sortBy === field ? \"\" : field\n    }));\n  };\n\n  heading = columnName => {\n    return columnName.map(col => {\n      const classes = \"table__row--content table__row--column-heading\";\n      return (\n        <th\n          key={col.label}\n          className={\n            this.doubleSizeCol(col.label)\n              ? `${classes} table__row--doubleSize`\n              : classes\n          }\n        >\n          {col.value}\n          <span\n            className=\"sort\"\n            onClick={() => {\n              this.sort(col.label);\n            }}\n          >\n            {this.state.sortBy === col.label ? (\n              <i className=\"fas fa-caret-up\" />\n            ) : (\n              <i className=\"fas fa-caret-down\" />\n            )}\n          </span>\n        </th>\n      );\n    });\n  };\n\n  renderRow = object => {\n    const displayData = [];\n    const classes = \"table__row--content\";\n    for (let key in object) {\n      if (key !== \"id\") {\n        displayData.push(\n          <td\n            key={key}\n            className={\n              this.doubleSizeCol(key)\n                ? `${classes} table__row--doubleSize`\n                : classes\n            }\n          >\n            {object[key]}\n          </td>\n        );\n      }\n    }\n    return displayData;\n  };\n\n  renderPageNumbers = (pageNumbers, paginationLength) => {\n    let pagination = pageNumbers.map(number => {\n      return (\n        <li\n          key={number}\n          id={number}\n          className=\"pagination__item\"\n          onClick={this.handleClick}\n        >\n          {number}\n        </li>\n      );\n    });\n    return (\n      <>\n        {pageNumbers[0] > 2 ? (\n          <>\n            <li\n              key=\"1\"\n              id=\"1\"\n              className=\"pagination__item\"\n              onClick={this.handleClick}\n            >\n              1\n            </li>\n            <li>...</li>\n          </>\n        ) : null}\n        {pagination}\n        {pageNumbers[0] < paginationLength - 4 ? (\n          <>\n            <li>...</li>\n            <li\n              key={paginationLength}\n              id={paginationLength}\n              className=\"pagination__item\"\n              onClick={this.handleClick}\n            >\n              {paginationLength}\n            </li>\n          </>\n        ) : null}\n      </>\n    );\n  };\n\n  render() {\n    const {\n      loading,\n      data,\n      currentPage,\n      recordPerPage,\n      searchInput,\n      newData,\n      sortBy\n    } = this.state;\n\n    const records = newData.length ? newData : data;\n\n    // Logic for displaying record according to page no.\n    const indexOfLastRecord = currentPage * recordPerPage;\n    const indexOfFirstRecord = indexOfLastRecord - recordPerPage;\n    let currentRecord = records.slice(indexOfFirstRecord, indexOfLastRecord);\n    currentRecord.sort((a, b) => (a[sortBy] > b[sortBy] ? 1 : -1));\n\n    let paginationLength = Math.ceil(records.length / recordPerPage);\n\n    if (loading) return <Loading />;\n    return (\n      <StyleHome>\n        <input\n          className=\"search\"\n          placeholder=\"Search by First Name\"\n          onChange={this.handleInput}\n          value={searchInput}\n        />\n        <table className=\"table\">\n          <caption className=\"table__caption\">\n            <span className=\"table__caption--text1\">Data Peace</span>\n            <br />\n            <span className=\"table__caption--text2\">Front End Task</span>\n          </caption>\n          <thead>\n            <tr className=\"table__row\">\n              {this.heading([\n                { label: \"first_name\", value: \"first name\" },\n                { label: \"last_name\", value: \"last name\" },\n                { label: \"company_name\", value: \"company name\" },\n                { label: \"city\", value: \"city\" },\n                { label: \"state\", value: \"state\" },\n                { label: \"zip\", value: \"zip\" },\n                { label: \"email\", value: \"email\" },\n                { label: \"web\", value: \"web\" },\n                { label: \"age\", value: \"age\" }\n              ])}\n            </tr>\n          </thead>\n          <tbody>\n            {currentRecord.map(r => (\n              <tr\n                className=\"table__row\"\n                onClick={() => {\n                  this.showDetails(r);\n                }}\n                key={r.id}\n              >\n                {this.renderRow(r)}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <div className=\"btnContainer\">\n          <button\n            className=\"btn\"\n            onClick={() => {\n              this.updateCurrentPage(\"sub\", paginationLength);\n            }}\n          >\n            Previous\n          </button>\n          <button\n            className=\"btn\"\n            onClick={() => {\n              this.updateCurrentPage(\"add\", paginationLength);\n            }}\n          >\n            Next\n          </button>\n        </div>\n        <ul className=\"pagination\">\n          {this.renderPageNumbers(\n            this.paginationRange(paginationLength),\n            paginationLength\n          )}\n        </ul>\n      </StyleHome>\n    );\n  }\n}\n\nexport default Home;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Home from \"../components/Home\";\nimport { userDetail } from \"../store/actions\";\n\nconst HomeContainer = props => (\n  <Home\n    {...props}\n    detail={payload => {\n      props.detail(payload);\n    }}\n  />\n);\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    detail: payload => dispatch(userDetail(payload))\n  };\n};\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(HomeContainer);\n"],"sourceRoot":""}